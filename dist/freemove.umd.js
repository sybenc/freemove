(function(I,b){typeof exports=="object"&&typeof module<"u"?module.exports=b():typeof define=="function"&&define.amd?define(b):(I=typeof globalThis<"u"?globalThis:I||self,I.FreeMove=b())})(this,function(){"use strict";var Lt=Object.defineProperty;var Mt=(I,b,W)=>b in I?Lt(I,b,{enumerable:!0,configurable:!0,writable:!0,value:W}):I[b]=W;var $=(I,b,W)=>Mt(I,typeof b!="symbol"?b+"":b,W);const b="__freemove";class m{constructor({x:i,y:t,h:e,w:n,node:h}){$(this,"x");$(this,"y");$(this,"w");$(this,"h");$(this,"id");$(this,"node");this.x=i,this.y=t,this.h=e,this.w=n,this.node=h,this.id=h.dataset.id}sync(){this.x=parseFloat(this.node.style.left),this.y=parseFloat(this.node.style.top),this.w=parseFloat(this.node.style.width),this.h=parseFloat(this.node.style.height)}isInSide(i){return i.x>=this.x&&i.x<=this.x+this.w&&i.y>=this.y&&i.y<=this.y+this.h}isIntersect(i){const t=this.x+3,e=this.y+3,n=this.x+this.w-3,h=this.y+this.h-3,u=i.x,f=i.y,a=i.x+i.w,o=i.y+i.h;return!(n<u||t>a||h<f||e>o)}getAlignLinePostion(){return{vl:this.x,vc:this.x+this.w/2,vr:this.x+this.w,ht:this.y,hc:this.y+this.h/2,hb:this.y+this.h}}static from(i){return new m({x:parseFloat(i.style.left),y:parseFloat(i.style.top),w:parseFloat(i.style.width),h:parseFloat(i.style.height),node:i})}static error(i,t){}}function p(c){return typeof c=="number"?`${c}px`:String(c)}function X(c,i,t=.1){return Math.abs(c-i)<=t}function w(c,i){return c.getElementsByClassName(i)[0]}function E(c){return document.createElementNS("http://www.w3.org/2000/svg",c)}function C(c,i=!1){return i?Math.round(parseFloat(c.toFixed(1))):Number.isInteger(c)?c.toFixed(0):c.toFixed(1)}function tt(c,i){if(!c.selected)return;const t=c.container.getBoundingClientRect();c.align.reRender(c),c.border.reRender(c),c.distance.reRender(c);const e=c.selected.getBoundingClientRect();let n=i.clientX-e.left,h=i.clientY-e.top,u=null;function f(o){u||(u=requestAnimationFrame(()=>{if(!c.selected)return;let r=o.clientX-t.left-n,s=o.clientY-t.top-h;const l=c.container.clientWidth-c.selected.offsetWidth,g=c.container.clientHeight-c.selected.offsetHeight;r=Math.max(0,Math.min(r,l)),s=Math.max(0,Math.min(s,g)),c.selected.style.left=p(r),c.selected.style.top=p(s),c.align.reRender(c),c.border.reRender(c),c.distance.reRender(c),u=null}))}function a(){document.removeEventListener("pointermove",f),document.removeEventListener("pointerup",a),c.align.hidden(),c.distance.hidden(),u!==null&&(cancelAnimationFrame(u),u=null)}document.addEventListener("pointermove",f),document.addEventListener("pointerup",a)}function et(c,i){if(!c.selected)return;const t=c.container.getBoundingClientRect(),n=i.target.dataset.direction;if(!n)return;const h=m.from(c.selected);let u=i.clientX,f=i.clientY,a=h.w,o=h.h,r=h.x,s=h.y;const l=t.width,g=t.height;function x(d){let S=d.clientX-u,v=d.clientY-f,y=a,L=o,F=r,z=s;n.includes("right")&&(y=a+S),n.includes("left")&&(y=a-S,F=r+S),n.includes("bottom")&&(L=o+v),n.includes("top")&&(L=o-v,z=s+v),F<0&&(y+=F,F=0),z<0&&(L+=z,z=0),F+y>l&&(y=l-F),z+L>g&&(L=g-z),y=Math.max(y,10),L=Math.max(L,10),c.resize.reRender(c,y,L,n,r,s,a,o),c.border.reRender(c)}function A(){c.resize.hidden(),document.removeEventListener("pointermove",x),document.removeEventListener("pointerup",A)}document.addEventListener("pointermove",x),document.addEventListener("pointerup",A)}function it(c,i){const t=c.container.getBoundingClientRect(),e=i.clientX-t.left,n=i.clientY-t.top;function h(f){const a=f.clientX-t.left,o=f.clientY-t.top;c.selector.reRender(c,e,n,a,o)}function u(){c.selector.hiddenSelector(),c.selector.showPreview(),document.removeEventListener("pointermove",h),document.removeEventListener("pointerup",u)}document.addEventListener("pointermove",h),document.addEventListener("pointerup",u)}function st(c){c.svg.addEventListener("pointerdown",i=>{i.preventDefault();const t=i.target;if(t.classList[0].includes(`${b}-border-point-`)){const e=t.dataset.ownerId;for(let n=0;n<c.nodes.length;n++)e===c.nodes[n].dataset.ownerId&&c.setSelected(c.nodes[n]);c.selected&&et(c,i);return}if(t.classList.contains(`${b}-svg`)){let e=null;for(const n of c.nodes){const h=m.from(n);if(h.isInSide({x:i.offsetX,y:i.offsetY})){e=h;break}}e&&e.node.classList.contains(`${b}-movable-node`)&&(c.selector.hiddenPreview(),c.setSelected(e.node),tt(c,i)),e||(c.border.hidden(),it(c,i))}})}function nt(c){const i=new Map;function t(a){var r;const o=[];a.toSorted((s,l)=>s.x-l.x).forEach(s=>{o.push({value:s.x,type:"min",nodeRect:s}),o.push({value:s.x+s.w,type:"max",nodeRect:s})}),o.sort((s,l)=>s.value-l.value);for(let s=0;s<o.length-1;s++){const l=[],g=[];if(o[s].type==="max"&&o[s+1].type==="min"){for(let d=0;d<=s&&o[s].value===o[s-d].value;d++)l.push(o[s-d]);for(let d=s+1;d<=o.length&&o[s+1].value===o[d].value;d++)g.push(o[d]);const x=g[0].value-l[0].value,A=l[0].nodeRect.x+l[0].nodeRect.w;if(x>0){const d=Math.min(...l.map(y=>y.nodeRect.y),...g.map(y=>y.nodeRect.y)),S=Math.max(...l.map(y=>y.nodeRect.y+y.nodeRect.h),...g.map(y=>y.nodeRect.y+y.nodeRect.h)),v={x:A,y:d,w:x,h:S-d,rect1:l.map(y=>y.nodeRect),rect2:g.map(y=>y.nodeRect)};i.has(x)?(r=i.get(x))==null||r.push(v):i.set(x,[v])}}}}function e(){i.forEach((a,o)=>{const r=new Map;a.forEach(s=>{r.has(s.x)?r.get(s.x).push(s):r.set(s.x,[s])}),r.forEach((s,l)=>{const g=[],x=[],A=new Set,d=new Set;s==null||s.forEach(y=>{g.push(y.y),x.push(y.y+y.h),y.rect1.forEach(L=>A.add(L)),y.rect2.forEach(L=>d.add(L))});const S=Math.min(...g),v=Math.max(...x);r.set(l,[{x:l,y:S,h:v-S,w:o,rect1:Array.from(A),rect2:Array.from(d)}])}),i.set(o,Array.from(r.values()).flat())})}const n=[],h=m.from(c.selected);c.nodes.forEach(a=>{const o=m.from(a);n.push(o)}),n.sort((a,o)=>a.x-o.x);const u=[],f=[];return n.forEach(a=>{a.y<=h.y&&a.y+a.h>=h.y||a.y<=h.y+h.h/2&&a.y+a.h>=h.y+h.h/2||a.y<=h.y+h.h&&a.y+a.h>=h.y+h.h?u.push(a):f.push(a)}),t(u),f.forEach(a=>{u.push(a),t(u)}),e(),i}function rt(c){const i=new Map;function t(a){var r;const o=[];a.toSorted((s,l)=>s.y-l.y).forEach(s=>{o.push({value:s.y,type:"min",nodeRect:s}),o.push({value:s.y+s.h,type:"max",nodeRect:s})}),o.sort((s,l)=>s.value-l.value);for(let s=0;s<o.length-1;s++){const l=[],g=[];if(o[s].type==="max"&&o[s+1].type==="min"){for(let d=0;d<=s&&o[s].value===o[s-d].value;d++)l.push(o[s-d]);for(let d=s+1;d<=o.length&&o[s+1].value===o[d].value;d++)g.push(o[d]);const x=g[0].value-l[0].value,A=l[0].nodeRect.y+l[0].nodeRect.h;if(x>0){const d=Math.min(...l.map(y=>y.nodeRect.x),...g.map(y=>y.nodeRect.x)),S=Math.max(...l.map(y=>y.nodeRect.x+y.nodeRect.w),...g.map(y=>y.nodeRect.x+y.nodeRect.w)),v={x:d,y:A,w:S-d,h:x,rect1:l.map(y=>y.nodeRect),rect2:g.map(y=>y.nodeRect)};i.has(x)?(r=i.get(x))==null||r.push(v):i.set(x,[v])}}}}function e(){i.forEach((a,o)=>{const r=new Map;a.forEach(s=>{r.has(s.y)?r.get(s.y).push(s):r.set(s.y,[s])}),r.forEach((s,l)=>{const g=[],x=[],A=new Set,d=new Set;s==null||s.forEach(y=>{g.push(y.x),x.push(y.x+y.w),y.rect1.forEach(L=>A.add(L)),y.rect2.forEach(L=>d.add(L))});const S=Math.min(...g),v=Math.max(...x);r.set(l,[{x:S,y:l,h:o,w:v-S,rect1:Array.from(A),rect2:Array.from(d)}])}),i.set(o,Array.from(r.values()).flat())})}const n=[],h=m.from(c.selected);c.nodes.forEach(a=>{const o=m.from(a);n.push(o)}),n.sort((a,o)=>a.y-o.y);const u=[],f=[];return n.forEach(a=>{a.x<=h.x&&a.x+a.w>=h.x||a.x<=h.x+h.w/2&&a.x+a.w>=h.x+h.w/2||a.x<=h.x+h.w&&a.x+a.w>=h.x+h.w?u.push(a):f.push(a)}),t(u),f.forEach(a=>{u.push(a),t(u)}),e(),i}class lt{constructor(i){$(this,"g");this.g=E("g"),this.g.setAttribute("class",`${b}-gap`),i.append(this.g)}clear(){this.g.innerHTML=""}reRender(i){if(!i.selected)return;this.clear();const{left:t,right:e,top:n,bottom:h}=i.distance,u=m.from(i.selected),f=a=>a<0?0:a;if(t.node&&e.node){const a=m.from(e.node),o=m.from(t.node),r=(a.x-o.x-o.w-u.w)/2;Math.abs(u.x-o.x-o.w-r)<=3&&(i.selected.style.left=p(o.x+o.w+r),u.sync())}if(n.node&&h.node){const a=m.from(h.node),o=m.from(n.node),r=(a.y-o.y-o.h-u.h)/2;Math.abs(u.y-o.y-o.h-r)<=3&&(i.selected.style.top=p(o.y+o.h+r),u.sync())}if(i.align.reRender(i),i.distance.reRender(i),i.border.reRender(i),i.align.isHAlign){const a=[],o=nt(i),r=i.distance.left.length>i.distance.right.length?e:t;if(r.node){const s=m.from(r.node);o.forEach((l,g)=>{if(Math.abs(r.length-g)<=3||g<=20&&Math.abs(r.length-g)<=4){if([...l.map(A=>A.rect1.concat(A.rect2))].flat().some(A=>{var d;return A.id===((d=i.selected)==null?void 0:d.dataset.id)})){a.push(...l);return}r.length===e.length?(i.selected.style.left=p(s.x-g-u.w),i.distance.left.length=g,a.push(...l),u.sync()):r.length===t.length&&(i.selected.style.left=p(s.x+s.w+g),i.distance.right.length=g,a.push(...l),u.sync()),i.align.reRender(i),i.distance.reRender(i),i.border.reRender(i)}}),a.length>1&&a.forEach(l=>{const g=E("rect");g.setAttribute("x",String(l.x)),g.setAttribute("y",String(l.y)),g.setAttribute("width",String(r.length===e.length?f(s.x-u.x-u.w):f(u.x-s.x-s.w))),g.setAttribute("height",String(l.h)),g.setAttribute("fill","#F5E0E3"),r.length===e.length&&g.setAttribute("width",String(f(s.x-u.x-u.w))),r.length===t.length&&g.setAttribute("width",String(f(u.x-s.x-s.w))),this.g.append(g)})}}if(i.align.isVAlign){const a=[],o=rt(i),r=i.distance.top.length>i.distance.bottom.length?h:n;if(r.node){const s=m.from(r.node);o.forEach((l,g)=>{if(Math.abs(r.length-g)<=3||g<=20&&Math.abs(r.length-g)<=4){if([...l.map(A=>A.rect1.concat(A.rect2))].flat().some(A=>{var d;return A.id===((d=i.selected)==null?void 0:d.dataset.id)})){a.push(...l);return}r.length===h.length?(i.selected.style.top=p(s.y-g-u.h),i.distance.top.length=g,a.push(...l),u.sync()):r.length===n.length&&(i.selected.style.top=p(s.y+s.h+g),i.distance.bottom.length=g,a.push(...l),u.sync()),i.align.reRender(i),i.distance.reRender(i),i.border.reRender(i)}}),a.length>1&&a.forEach(l=>{const g=E("rect");g.setAttribute("x",String(l.x)),g.setAttribute("y",String(l.y)),g.setAttribute("width",String(l.w)),g.setAttribute("height",String(r.length===h.length?f(s.y-u.y-u.h):f(u.y-s.y-s.h))),g.setAttribute("fill","#F5E0E3"),r.length===h.length&&g.setAttribute("height",String(f(s.y-u.y-u.h))),r.length===n.length&&g.setAttribute("height",String(f(u.y-s.y-s.h))),this.g.append(g)})}}}}const ht="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let ct=(c=21)=>{let i="",t=crypto.getRandomValues(new Uint8Array(c|=0));for(;c--;)i+=ht[t[c]&63];return i};const ot=1,at="red",G=["vl","vc","vr","ht","hc","hb"];function ut(c,i){const t=c.container.getBoundingClientRect(),e={ht:[],hc:[],hb:[],vl:[],vc:[],vr:[]};let n=!1;function h(){const r=m.from(c.selected),s=c.nodes.filter(l=>l!==c.selected).map(l=>m.from(l));G.forEach(l=>e[l]=[]),s.forEach(l=>{if(r.isIntersect(l))return;const g=r.getAlignLinePostion();G.forEach(x=>{let A=1e4,d=1e4,S;/^h/.test(x)&&(r.x>l.x+l.w?(A=r.x+r.w,d=l.x):r.x+r.w<l.x?(A=r.x,d=l.x+l.w):(A=Math.min(r.x,l.x),d=Math.max(r.x+r.w,l.x+l.w)),[l.y,l.y+l.h/2,l.y+l.h].forEach(v=>{S=Math.abs(g[x]-v),S<=3&&e[x].push({type:x,source:A,target:d,absorbDistance:S,absorbPosition:v,nodeRects:[l]})})),/^v/.test(x)&&(r.y>l.y+l.h?(A=r.y+r.h,d=l.y):r.y+r.h<l.y?(A=r.y,d=l.y+l.h):(A=Math.min(r.y,l.y),d=Math.max(r.y+r.h,l.y+l.h)),[l.x,l.x+l.w/2,l.x+l.w].forEach(v=>{S=Math.abs(g[x]-v),S<=3&&e[x].push({type:x,source:A,target:d,absorbDistance:S,absorbPosition:v,nodeRects:[l]})}))})}),G.forEach(l=>{const g=new Map;e[l].forEach(d=>{const S=g.get(d.absorbDistance)||[];S.push(d),g.set(d.absorbDistance,S)});let x=1/0,A=0;g.forEach(d=>{d.forEach(S=>{x=Math.min(x,S.source,S.target),A=Math.max(A,S.source,S.target)})}),g.forEach(d=>{d.forEach(S=>{S.source=x,S.target=A})}),e[l]=Array.from(g.values()).flat()})}function u(r){const{absorbPosition:s,type:l}=r,g=c.selected;switch(l){case"ht":g.style.top=p(s);break;case"hc":g.style.top=p(s-parseFloat(g.style.height)/2);break;case"hb":g.style.top=p(s-parseFloat(g.style.height));break;case"vl":g.style.left=p(s);break;case"vc":g.style.left=p(s-parseFloat(g.style.width)/2);break;case"vr":g.style.left=p(s-parseFloat(g.style.width));break}h(),c.border.reRender(c)}function f(){if(!c.selected)return;const r=m.from(c.selected),s=t.width/2;Math.abs(r.x+r.w/2-s)<=3&&(c.selected.style.left=p(s-r.w/2),n=!0),h(),c.border.reRender(c)}function a(){if(!c.selected)return;const r=m.from(c.selected),s=Object.values(e).flat();if([...e.hb,...e.hc,...e.ht].length===0?i.isHAlign=!1:i.isHAlign=!0,[...e.vc,...e.vl,...e.vr].length===0?i.isVAlign=!1:i.isVAlign=!0,s.forEach(l=>{const{source:g,target:x,type:A}=l,d=i.lines[A];if(/^h/.test(A))switch(d==null||d.setAttribute("x1",String(g)),d==null||d.setAttribute("x2",String(x)),A){case"ht":d.setAttribute("y1",String(r.y)),d.setAttribute("y2",String(r.y));break;case"hc":d.setAttribute("y1",String(r.y+r.h/2)),d.setAttribute("y2",String(r.y+r.h/2));break;case"hb":d.setAttribute("y1",String(r.y+r.h)),d.setAttribute("y2",String(r.y+r.h));break}if(/^v/.test(A))switch(d==null||d.setAttribute("y1",String(g)),d==null||d.setAttribute("y2",String(x)),A){case"vl":d.setAttribute("x1",String(r.x)),d.setAttribute("x2",String(r.x));break;case"vc":d.setAttribute("x1",String(r.x+r.w/2)),d.setAttribute("x2",String(r.x+r.w/2));break;case"vr":d.setAttribute("x1",String(r.x+r.w)),d.setAttribute("x2",String(r.x+r.w));break}d==null||d.setAttribute("style","display: 'block")}),n){const l=i.lines.vertical;l.setAttribute("x1",String(t.width/2)),l.setAttribute("y1",String(0)),l.setAttribute("x2",String(t.width/2)),l.setAttribute("y2",String(t.height)),l==null||l.setAttribute("style","display: 'block")}}h(),Object.values(e).flat().forEach(r=>{u(r)}),f();let o=1/0;G.forEach(r=>{e[r].forEach(s=>{s.absorbDistance<o&&(o=s.absorbDistance)})}),G.forEach(r=>{e[r]=e[r].filter(s=>X(s.absorbDistance,o,.01))}),a()}class dt{constructor(i){$(this,"g");$(this,"lines");$(this,"isHAlign",!1);$(this,"isVAlign",!1);this.g=E("g"),this.g.setAttribute("class",`${b}-align`),this.lines={},[...G,"vertical"].forEach(t=>{const e=E("line");e.setAttribute("class",`${b}-align-${t}`),e.setAttribute("stroke",at),e.setAttribute("stroke-width",String(ot)),e.style.display="none",this.g.append(e),this.lines[t]=e}),i.append(this.g)}hidden(){Object.values(this.lines).forEach(i=>{i.style.display="none"})}reRender(i){i.selected&&(this.hidden(),ut(i,this))}}const T=1,q="#000",Y=6,Z=["left","top","right","bottom"],V=["left-top","top","right-top","right","right-bottom","bottom","left-bottom","left"],gt=["nwse-resize","ns-resize","nesw-resize","ew-resize","nwse-resize","ns-resize","nesw-resize","ew-resize"];function bt(){const c=[],i=[];return Z.forEach(t=>{const e=E("line");e.setAttribute("class",`${b}-border-line-${t}`),e.setAttribute("stroke",q),e.setAttribute("stroke-width",p(T)),i.push(e)}),V.forEach((t,e)=>{const n=E("rect");n.setAttribute("class",`${b}-border-point-${t}`),n.setAttribute("fill","white"),n.setAttribute("stroke",q),n.setAttribute("stroke-width",p(T)),n.setAttribute("width",p(Y)),n.setAttribute("height",p(Y)),n.setAttribute("style",`cursor: ${gt[e]}`),n.setAttribute("data-direction",t),c.push(n)}),[c,i]}function ft(c,i){const t=m.from(i);Z.forEach(e=>{const n=w(c,`${b}-border-line-${e}`);switch(e){case"left":n.setAttribute("x1",String(t.x)),n.setAttribute("y1",String(t.y-T/2)),n.setAttribute("x2",String(t.x)),n.setAttribute("y2",String(t.y+t.h+T/2));break;case"right":n.setAttribute("x1",String(t.x+t.w)),n.setAttribute("y1",String(t.y-T/2)),n.setAttribute("x2",String(t.x+t.w)),n.setAttribute("y2",String(t.y+t.h+T/2));break;case"top":n.setAttribute("x1",String(t.x-T/2)),n.setAttribute("y1",String(t.y)),n.setAttribute("x2",String(t.x+t.w+T/2)),n.setAttribute("y2",String(t.y));break;case"bottom":n.setAttribute("x1",String(t.x-T/2)),n.setAttribute("y1",String(t.y+t.h)),n.setAttribute("x2",String(t.x+t.w+T/2)),n.setAttribute("y2",String(t.y+t.h));break}}),V.forEach((e,n)=>{const h=w(c,`${b}-border-point-${e}`);h.setAttribute("data-owner-id",i.dataset.id);const u=Y/2;switch(e){case"left-top":h.setAttribute("x",String(t.x-u)),h.setAttribute("y",String(t.y-u));break;case"top":h.setAttribute("x",String(t.x+t.w/2-u)),h.setAttribute("y",String(t.y-u));break;case"right-top":h.setAttribute("x",String(t.x+t.w-u)),h.setAttribute("y",String(t.y-u));break;case"right":h.setAttribute("x",String(t.x+t.w-u)),h.setAttribute("y",String(t.y+t.h/2-u));break;case"right-bottom":h.setAttribute("x",String(t.x+t.w-u)),h.setAttribute("y",String(t.y+t.h-u));break;case"bottom":h.setAttribute("x",String(t.x+t.w/2-u)),h.setAttribute("y",String(t.y+t.h-u));break;case"left-bottom":h.setAttribute("x",String(t.x-u)),h.setAttribute("y",String(t.y+t.h-u));break;case"left":h.setAttribute("x",String(t.x-u)),h.setAttribute("y",String(t.y+t.h/2-u));break}})}class yt{constructor(i){$(this,"g");$(this,"points");$(this,"lines");this.g=E("g"),this.g.setAttribute("class",`${b}-border`),i.append(this.g);const[t,e]=bt();this.points=t,this.lines=e,this.g.append(...e,...t),this.g.style.display="none"}hidden(){this.g.style.display="none"}reRender(i){i.selected&&(this.g.style.display="block",ft(this.g,i.selected))}}const _=1,H="#2A63F4",R=8,O=10,U=10;function Q(c){const i=c.nodes.map(n=>m.from(n)),t=new Map,e=new Map;return i.forEach(n=>{var f,a;const h={type:"width",nodeRect:n},u={type:"height",nodeRect:n};t.has(n.w)?(f=t.get(n.w))==null||f.push(h):t.set(n.w,[h]),e.has(n.h)?(a=e.get(n.h))==null||a.push(u):e.set(n.h,[u])}),{widthMap:t,heightMap:e}}function At(c){c.nodes.forEach(i=>{const t=m.from(i),e=c.resize.g.querySelector(`[data-ower-id="${t.id}"]`),n=w(e,`${b}-resize-line-group-width-line`),h=w(e,`${b}-resize-line-group-width-line-start`),u=w(e,`${b}-resize-line-group-width-line-end`),f=w(e,`${b}-resize-line-group-width-text`),a=w(e,`${b}-resize-line-group-height-line`),o=w(e,`${b}-resize-line-group-height-text`),r=w(e,`${b}-resize-line-group-height-line-start`),s=w(e,`${b}-resize-line-group-height-line-end`);n.setAttribute("x1",String(t.x)),n.setAttribute("y1",String(t.y-R)),n.setAttribute("x2",String(t.x+t.w)),n.setAttribute("y2",String(t.y-R)),h.setAttribute("x",String(t.x-_/2)),h.setAttribute("y",String(t.y-R-O/2)),h.setAttribute("width",String(_)),h.setAttribute("height",String(O)),h.setAttribute("fill",String(H)),u.setAttribute("x",String(t.x+t.w-_/2)),u.setAttribute("y",String(t.y-R-O/2)),u.setAttribute("width",String(_)),u.setAttribute("height",String(O)),u.setAttribute("fill",String(H)),f.textContent=`${C(t.w)}`,f.setAttribute("x",String(t.x+t.w/2)),f.setAttribute("y",String(t.y-R-8)),f.setAttribute("fill",String(H)),f.setAttribute("font-size",String(U)),f.setAttribute("text-anchor","middle"),f.setAttribute("alignment-baseline","middle"),a.setAttribute("x1",String(t.x-R)),a.setAttribute("y1",String(t.y)),a.setAttribute("x2",String(t.x-R)),a.setAttribute("y2",String(t.y+t.h)),r.setAttribute("x",String(t.x-R-O/2)),r.setAttribute("y",String(t.y-_/2)),r.setAttribute("width",String(O)),r.setAttribute("height",String(_)),r.setAttribute("fill",String(H)),s.setAttribute("x",String(t.x-R-O/2)),s.setAttribute("y",String(t.y+t.h-_/2)),s.setAttribute("width",String(O)),s.setAttribute("height",String(_)),s.setAttribute("fill",String(H)),o.textContent=`${C(t.h)}`,o.setAttribute("x",String(t.x-R-8)),o.setAttribute("y",String(t.y+t.h/2)),o.setAttribute("fill",String(H)),o.setAttribute("font-size",String(U)),o.setAttribute("text-anchor","middle"),o.setAttribute("alignment-baseline","middle"),o.setAttribute("transform",`rotate(-90 ${t.x-R-8} ${t.y+t.h/2})`),[n,a].forEach(l=>{l.setAttribute("stroke",H),l.setAttribute("stroke-width",String(_))})})}class xt{constructor(i,t){$(this,"g");$(this,"lines");this.g=E("g"),this.g.setAttribute("class",`${b}-resize`);const e=[];t.forEach(n=>{const h=m.from(n),u=E("g");u.setAttribute("class",`${b}-resize-line`),u.setAttribute("data-ower-id",h.id);const f=E("g");f.setAttribute("class",`${b}-resize-line-group-width`);const a=E("line");a.setAttribute("class",`${b}-resize-line-group-width-line`);const o=E("text");o.setAttribute("class",`${b}-resize-line-group-width-text`);const r=E("rect");r.setAttribute("class",`${b}-resize-line-group-width-line-start`);const s=E("rect");s.setAttribute("class",`${b}-resize-line-group-width-line-end`),f.append(a,o,r,s);const l=E("g");l.setAttribute("class",`${b}-resize-line-group-height`);const g=E("line");g.setAttribute("class",`${b}-resize-line-group-height-line`);const x=E("text");x.setAttribute("class",`${b}-resize-line-group-height-text`);const A=E("rect");A.setAttribute("class",`${b}-resize-line-group-height-line-start`);const d=E("rect");d.setAttribute("class",`${b}-resize-line-group-height-line-end`),l.append(g,x,A,d),u.append(f,l),e.push(u)}),this.lines=e,this.g.append(...this.lines),i.append(this.g),this.hidden()}hidden(){this.lines.forEach(i=>{Array.from(i.children).forEach(t=>{t.style.display="none"})})}reRender(i,t,e,n,h,u,f,a){var J,K;if(!i.selected)return;this.hidden();const{widthMap:o,heightMap:r}=Q(i),s=[],l=[];o.forEach((M,B)=>{var N;M.length===1&&M[0].nodeRect.id===((N=i.selected)==null?void 0:N.dataset.id)||Math.abs(t-B)<=3&&s.push(B)}),r.forEach((M,B)=>{var N;M.length===1&&M[0].nodeRect.id===((N=i.selected)==null?void 0:N.dataset.id)||Math.abs(e-B)<=3&&l.push(B)});const g=s.length===0?t:Math.max(...s),x=l.length===0?e:Math.max(...l),A=Math.max(g,10),d=Math.max(x,10);if(n.includes("left")){const M=h+f;i.selected.style.left=p(M-A)}else i.selected.style.left=p(h);if(i.selected.style.width=p(A),n.includes("top")){const M=u+a;i.selected.style.top=p(M-d)}else i.selected.style.top=p(u);i.selected.style.height=p(d);const S=parseFloat(i.selected.style.width),v=parseFloat(i.selected.style.height),{widthMap:y,heightMap:L}=Q(i);(J=y.get(S))==null||J.forEach(M=>{const B=this.g.querySelector(`[data-ower-id="${M.nodeRect.id}"]`),N=w(B,`${b}-resize-line-group-width`);N.style.display="block"}),(K=L.get(v))==null||K.forEach(M=>{const B=this.g.querySelector(`[data-ower-id="${M.nodeRect.id}"]`),N=w(B,`${b}-resize-line-group-height`);N.style.display="block"});const F=this.g.querySelector(`[data-ower-id="${i.selected.dataset.id}"]`),z=w(F,`${b}-resize-line-group-width`),kt=w(F,`${b}-resize-line-group-height`);kt.style.display="block",z.style.display="block",At(i),i.border.reRender(i)}}function pt(c,i,t,e){return t-c>0&&e-i>0?"4":t-c<0&&e-i>0?"3":t-c<0&&e-i<0?"2":t-c>0&&e-i<0?"1":"0"}class wt{constructor(i){$(this,"g");$(this,"selectorRect");$(this,"previewRect");$(this,"selectedGroup",[]);this.g=E("g"),this.g.setAttribute("class",`${b}-selector`),this.selectorRect=E("rect"),this.selectorRect.setAttribute("class",`${b}-selector-rect`),this.selectorRect.setAttribute("stroke","#919191"),this.selectorRect.setAttribute("stroke-width","1px"),this.selectorRect.setAttribute("fill","rgba(255,255,255,0.3)"),this.selectorRect.style.display="none",this.previewRect=E("rect"),this.previewRect.setAttribute("class",`${b}-selector-preview`),this.previewRect.setAttribute("stroke","#000"),this.previewRect.setAttribute("stroke-width","1px"),this.previewRect.setAttribute("fill","transparent"),this.previewRect.style.display="none",this.g.append(this.selectorRect,this.previewRect),i.append(this.g)}hiddenSelector(){this.selectorRect.style.display="none"}showSelector(){this.selectorRect.style.display="block"}hiddenPreview(){this.previewRect.style.display="none"}showPreview(){this.previewRect.style.display="block"}reRender(i,t,e,n,h){this.showSelector(),this.hiddenPreview(),this.selectedGroup=[];const u=pt(t,e,n,h),f=Math.abs(t-n),a=Math.abs(e-h);this.selectorRect.setAttribute("width",String(f)),this.selectorRect.setAttribute("height",String(a));let o=t,r=e;switch(u){case"3":{o=o-f;break}case"2":{o=o-f,r=r-a;break}case"1":{r=r-a;break}}this.selectorRect.setAttribute("x",String(o)),this.selectorRect.setAttribute("y",String(r)),i.nodes.forEach(S=>{m.from(S).isIntersect({x:o,y:r,w:f,h:a})&&this.selectedGroup.push(S)});const s=[],l=[],g=[],x=[];this.selectedGroup.forEach(S=>{const{x:v,y,w:L,h:F}=m.from(S);s.push(v),l.push(y),g.push(v+L),x.push(y+F)});const A=Math.min(...s),d=Math.min(...l);this.previewRect.setAttribute("x",String(s.length?A:0)),this.previewRect.setAttribute("y",String(l.length?d:0)),this.previewRect.setAttribute("width",String(g.length?Math.max(...g)-A:0)),this.previewRect.setAttribute("height",String(x.length?Math.max(...x)-d:0))}}const k="#3875F6",P=1,D=10,St=["left","right","top","bottom"];function mt(c){const i=[],t=m.from(c.selected);c.nodes.forEach(e=>{const n=m.from(e);i.push(n)}),i.forEach(e=>{if(e.y<=t.y&&e.y+e.h>=t.y||e.y<=t.y+t.h/2&&e.y+e.h>=t.y+t.h/2||e.y<=t.y+t.h&&e.y+e.h>=t.y+t.h){if(t.x+t.w<e.x){const h=Math.abs(t.x+t.w-e.x);c.distance.right.length>h&&(c.distance.right.length=h,c.distance.right.node=e.node)}if(t.x>e.x+e.w){const h=Math.abs(t.x-e.x-e.w);c.distance.left.length>h&&(c.distance.left.length=h,c.distance.left.node=e.node)}}}),i.forEach(e=>{if(e.x<=t.x&&e.x+e.w>=t.x||e.x<=t.x+t.w/2&&e.x+e.w>=t.x+t.w/2||e.x<=t.x+t.w&&e.x+e.w>=t.x+t.w){if(t.y+t.h<e.y){const h=Math.abs(t.y+t.h-e.y);c.distance.bottom.length>h&&(c.distance.bottom.length=h,c.distance.bottom.node=e.node)}if(t.y>e.y+e.h){const h=Math.abs(t.y-e.y-e.h);c.distance.top.length>h&&(c.distance.top.length=h,c.distance.top.node=e.node)}}})}function j(c){const i=[0,4,8,12,16];for(const t of i)if(t-2<=c&&t+2>=c)return t;return c}class Et{constructor(i){$(this,"g");$(this,"lines");$(this,"left");$(this,"right");$(this,"top");$(this,"bottom");this.g=E("g"),this.g.setAttribute("class",`${b}-distance`),this.lines={};const t=e=>{const n=E("g");n.setAttribute("class",`${b}-distance-${e}`);const h=E("line");h.setAttribute("class",`${b}-distance-${e}-line`);const u=E("line");u.setAttribute("class",`${b}-distance-${e}-dash-line`);const f=E("text");f.setAttribute("class",`${b}-distance-${e}-text`);const a=E("rect");a.setAttribute("class",`${b}-distance-${e}-text-bg`);const o=E("rect");o.setAttribute("class",`${b}-distance-${e}-line-start`);const r=E("rect");return r.setAttribute("class",`${b}-distance-${e}-line-end`),n.appendChild(h),n.appendChild(u),n.appendChild(a),n.appendChild(f),n.appendChild(o),n.appendChild(r),n};this.left={length:1/0,node:null},this.right={length:1/0,node:null},this.top={length:1/0,node:null},this.bottom={length:1/0,node:null},St.forEach(e=>{const n=t(e);this.lines[e]=n}),this.g.append(...Object.values(this.lines)),i.append(this.g)}hidden(){Object.values(this.lines).forEach(i=>{i.setAttribute("style","display: none;")}),this.left={length:1/0,node:null},this.right={length:1/0,node:null},this.top={length:1/0,node:null},this.bottom={length:1/0,node:null}}reRender(i){if(i.selected){if(this.hidden(),mt(i),this.left.node&&this.left.node.id!==i.selected.dataset.id){if(i.align.isHAlign){const l=j(this.left.length);l!==this.left.length&&(i.selected.style.left=p(parseFloat(i.selected.style.left)-this.left.length+l),this.left.length=l,i.align.reRender(i),i.border.reRender(i))}const t=m.from(this.left.node),e=m.from(i.selected),n=w(this.lines.left,`${b}-distance-left-line`);n.setAttribute("x1",String(t.x+t.w)),n.setAttribute("x2",String(e.x)),n.setAttribute("y1",String(e.y+e.h/2)),n.setAttribute("y2",String(e.y+e.h/2)),n.setAttribute("stroke",k),n.setAttribute("stroke-width",String(P));const h=w(this.lines.left,`${b}-distance-left-text`);h.textContent=`${C(this.left.length,!0)}`,h.setAttribute("x",String((t.x+t.w+e.x)/2)),h.setAttribute("y",String(e.y+e.h/2-9)),h.setAttribute("fill","#FFFFFF"),h.setAttribute("font-size",String(D)),h.setAttribute("text-anchor","middle"),h.setAttribute("alignment-baseline","middle");const u=w(this.lines.left,`${b}-distance-left-text-bg`);u.setAttribute("x",String((t.x+t.w+e.x)/2-(h.getComputedTextLength()+10)/2)),u.setAttribute("y",String(e.y+e.h/2-D/2-12)),u.setAttribute("width",String(h.getComputedTextLength()+10)),u.setAttribute("height",String(D+4)),u.setAttribute("fill",k),u.setAttribute("rx","4"),u.setAttribute("ry","4");const f=1,a=8,o=w(this.lines.left,`${b}-distance-left-line-start`);o.setAttribute("x",String(t.x+t.w-f/2)),o.setAttribute("y",String(e.y+e.h/2-a/2)),o.setAttribute("width",String(f)),o.setAttribute("height",String(a)),o.setAttribute("fill",k);const r=w(this.lines.left,`${b}-distance-left-line-end`);r.setAttribute("x",String(e.x-f/2)),r.setAttribute("y",String(e.y+e.h/2-a/2)),r.setAttribute("width",String(f)),r.setAttribute("height",String(a)),r.setAttribute("fill",k);const s=w(this.lines.left,`${b}-distance-left-dash-line`);e.y<t.y?(s.setAttribute("x1",String(t.x+t.w)),s.setAttribute("x2",String(t.x+t.w)),s.setAttribute("y1",String(e.y)),s.setAttribute("y2",String(t.y)),s.setAttribute("stroke",k),s.setAttribute("stroke-width","1"),s.setAttribute("stroke-dasharray","4 4"),s.setAttribute("style","display: block;")):e.y+e.h>t.y+t.h?(s.setAttribute("x1",String(t.x+t.w)),s.setAttribute("x2",String(t.x+t.w)),s.setAttribute("y1",String(t.y+t.h)),s.setAttribute("y2",String(e.y+e.h)),s.setAttribute("stroke",k),s.setAttribute("stroke-width","1"),s.setAttribute("stroke-dasharray","4 4"),s.setAttribute("style","display: block;")):s.setAttribute("style","display: none;")}if(this.right.node&&this.right.node.id!==i.selected.dataset.id){if(i.align.isHAlign){const l=j(this.right.length);l!==this.right.length&&(i.selected.style.left=p(parseFloat(i.selected.style.left)+this.right.length-l),this.right.length=l,i.align.reRender(i),i.border.reRender(i))}const t=m.from(this.right.node),e=m.from(i.selected),n=w(this.lines.right,`${b}-distance-right-line`);n.setAttribute("x1",String(e.x+e.w)),n.setAttribute("x2",String(t.x)),n.setAttribute("y1",String(e.y+e.h/2)),n.setAttribute("y2",String(e.y+e.h/2)),n.setAttribute("stroke",k),n.setAttribute("stroke-width",String(P));const h=w(this.lines.right,`${b}-distance-right-text`);h.textContent=`${C(this.right.length,!0)}`,h.setAttribute("x",String((e.x+e.w+t.x)/2)),h.setAttribute("y",String(e.y+e.h/2-9)),h.setAttribute("fill","#FFFFFF"),h.setAttribute("font-size",String(D)),h.setAttribute("text-anchor","middle"),h.setAttribute("alignment-baseline","middle");const u=w(this.lines.right,`${b}-distance-right-text-bg`);u.setAttribute("x",String((e.x+e.w+t.x)/2-(h.getComputedTextLength()+10)/2)),u.setAttribute("y",String(e.y+e.h/2-D/2-12)),u.setAttribute("width",String(h.getComputedTextLength()+10)),u.setAttribute("height",String(D+4)),u.setAttribute("fill",k),u.setAttribute("rx","4"),u.setAttribute("ry","4");const f=1,a=8,o=w(this.lines.right,`${b}-distance-right-line-start`);o.setAttribute("x",String(e.x+e.w-f/2)),o.setAttribute("y",String(e.y+e.h/2-a/2)),o.setAttribute("width",String(f)),o.setAttribute("height",String(a)),o.setAttribute("fill",k);const r=w(this.lines.right,`${b}-distance-right-line-end`);r.setAttribute("x",String(t.x-f/2)),r.setAttribute("y",String(e.y+e.h/2-a/2)),r.setAttribute("width",String(f)),r.setAttribute("height",String(a)),r.setAttribute("fill",k);const s=w(this.lines.right,`${b}-distance-right-dash-line`);e.y<t.y?(s.setAttribute("x1",String(t.x)),s.setAttribute("x2",String(t.x)),s.setAttribute("y1",String(e.y)),s.setAttribute("y2",String(t.y)),s.setAttribute("stroke",k),s.setAttribute("stroke-width","1"),s.setAttribute("stroke-dasharray","4 4"),s.setAttribute("style","display: block;")):e.y+e.h>t.y+t.h?(s.setAttribute("x1",String(t.x)),s.setAttribute("x2",String(t.x)),s.setAttribute("y1",String(t.y+t.h)),s.setAttribute("y2",String(e.y+e.h)),s.setAttribute("stroke",k),s.setAttribute("stroke-width","1"),s.setAttribute("stroke-dasharray","4 4"),s.setAttribute("style","display: block;")):s.setAttribute("style","display: none;")}if(this.top.node&&this.top.node.id!==i.selected.dataset.id){if(i.align.isVAlign){const l=j(this.top.length);l!==this.top.length&&(i.selected.style.top=p(parseFloat(i.selected.style.top)-this.top.length+l),this.top.length=l,i.border.reRender(i))}const t=m.from(this.top.node),e=m.from(i.selected),n=w(this.lines.top,`${b}-distance-top-line`);n.setAttribute("x1",String(e.x+e.w/2)),n.setAttribute("x2",String(e.x+e.w/2)),n.setAttribute("y1",String(e.y)),n.setAttribute("y2",String(t.y+t.h)),n.setAttribute("stroke",k),n.setAttribute("stroke-width",String(P));const h=w(this.lines.top,`${b}-distance-top-text`);h.textContent=`${C(this.top.length,!0)}`,h.setAttribute("x",String(e.x+e.w/2+(h.getComputedTextLength()+10)/2+3)),h.setAttribute("y",String((e.y+t.y+t.h)/2+1)),h.setAttribute("fill","#FFFFFF"),h.setAttribute("font-size",String(D)),h.setAttribute("text-anchor","middle"),h.setAttribute("alignment-baseline","middle");const u=w(this.lines.top,`${b}-distance-top-text-bg`);u.setAttribute("x",String(e.x+e.w/2+3)),u.setAttribute("y",String((e.y+t.y+t.h)/2-(D+4)/2)),u.setAttribute("width",String(h.getComputedTextLength()+10)),u.setAttribute("height",String(D+4)),u.setAttribute("fill",k),u.setAttribute("rx","4"),u.setAttribute("ry","4");const f=8,a=1,o=w(this.lines.top,`${b}-distance-top-line-start`);o.setAttribute("x",String(e.x+e.w/2-f/2)),o.setAttribute("y",String(t.y+t.h-a/2)),o.setAttribute("width",String(f)),o.setAttribute("height",String(a)),o.setAttribute("fill",k);const r=w(this.lines.top,`${b}-distance-top-line-end`);r.setAttribute("x",String(e.x+e.w/2-f/2)),r.setAttribute("y",String(e.y-a/2)),r.setAttribute("width",String(f)),r.setAttribute("height",String(a)),r.setAttribute("fill",k);const s=w(this.lines.top,`${b}-distance-top-dash-line`);e.x<t.x?(s.setAttribute("x1",String(e.x)),s.setAttribute("x2",String(t.x)),s.setAttribute("y1",String(t.y+t.h)),s.setAttribute("y2",String(t.y+t.h)),s.setAttribute("stroke",k),s.setAttribute("stroke-width","1"),s.setAttribute("stroke-dasharray","4 4"),s.setAttribute("style","display: block;")):e.x+e.w>t.x+t.w?(s.setAttribute("x1",String(t.x+t.w)),s.setAttribute("x2",String(e.x+e.w)),s.setAttribute("y1",String(t.y+t.h)),s.setAttribute("y2",String(t.y+t.h)),s.setAttribute("stroke",k),s.setAttribute("stroke-width","1"),s.setAttribute("stroke-dasharray","4 4"),s.setAttribute("style","display: block;")):s.setAttribute("style","display: none;")}if(this.bottom.node&&this.bottom.node.id!==i.selected.dataset.id){if(i.align.isVAlign){const g=j(this.bottom.length);g!==this.bottom.length&&(i.selected.style.top=p(parseFloat(i.selected.style.top)+this.bottom.length-g),this.bottom.length=g,i.border.reRender(i))}const t=m.from(this.bottom.node),e=m.from(i.selected),n=w(this.lines.bottom,`${b}-distance-bottom-line`);n.setAttribute("x1",String(e.x+e.w/2)),n.setAttribute("x2",String(e.x+e.w/2)),n.setAttribute("y1",String(e.y+e.h)),n.setAttribute("y2",String(t.y)),n.setAttribute("stroke",k),n.setAttribute("stroke-width",String(P));const h=w(this.lines.bottom,`${b}-distance-bottom-text`);h.textContent=`${C(this.bottom.length,!0)}`;const u=e.x+e.w/2+(h.getComputedTextLength()+10)/2+3;h.setAttribute("x",String(u)),h.setAttribute("y",String((e.y+e.h+t.y)/2+1)),h.setAttribute("fill","#FFFFFF"),h.setAttribute("font-size",String(D)),h.setAttribute("text-anchor","middle"),h.setAttribute("alignment-baseline","middle");const f=w(this.lines.bottom,`${b}-distance-bottom-text-bg`);f.setAttribute("x",String(e.x+e.w/2+3)),f.setAttribute("y",String((e.y+e.h+t.y)/2-(D+4)/2)),f.setAttribute("width",String(h.getComputedTextLength()+10)),f.setAttribute("height",String(D+4)),f.setAttribute("fill",k),f.setAttribute("rx","4"),f.setAttribute("ry","4");const a=8,o=1,r=w(this.lines.bottom,`${b}-distance-bottom-line-start`);r.setAttribute("x",String(e.x+e.w/2-a/2)),r.setAttribute("y",String(e.y+e.h-o/2)),r.setAttribute("width",String(a)),r.setAttribute("height",String(o)),r.setAttribute("fill",k);const s=w(this.lines.bottom,`${b}-distance-bottom-line-end`);s.setAttribute("x",String(e.x+e.w/2-a/2)),s.setAttribute("y",String(t.y-o/2)),s.setAttribute("width",String(a)),s.setAttribute("height",String(o)),s.setAttribute("fill",k);const l=w(this.lines.bottom,`${b}-distance-bottom-dash-line`);e.x<t.x?(l.setAttribute("x1",String(e.x)),l.setAttribute("x2",String(t.x)),l.setAttribute("y1",String(t.y)),l.setAttribute("y2",String(t.y)),l.setAttribute("stroke",k),l.setAttribute("stroke-width","1"),l.setAttribute("stroke-dasharray","4 4"),l.setAttribute("style","display: block;")):e.x+e.w>t.x+t.w?(l.setAttribute("x1",String(t.x+t.w)),l.setAttribute("x2",String(e.x+e.w)),l.setAttribute("y1",String(t.y)),l.setAttribute("y2",String(t.y)),l.setAttribute("stroke",k),l.setAttribute("stroke-width","1"),l.setAttribute("stroke-dasharray","4 4"),l.setAttribute("style","display: block;")):l.setAttribute("style","display: none;")}i.align.isHAlign&&(X(this.left.length,this.right.length)?(this.lines.left.style="display: block;",this.lines.right.style="display: block;"):this.left.length>this.right.length?this.lines.right.style="display: block;":this.lines.left.style="display: block;"),i.align.isVAlign&&(X(this.top.length,this.bottom.length)?(this.lines.top.style="display: block;",this.lines.bottom.style="display: block;"):this.top.length>this.bottom.length?this.lines.bottom.style="display: block;":this.lines.top.style="display: block;")}}}const $t=(c,i)=>{const t=E("svg");t.setAttribute("class",`${b}-svg`);const e=c.getBoundingClientRect();return t.setAttribute("width",p(e.width)),t.setAttribute("height",p(e.height)),t.style="position: absolute; inset: 0;",c.className+=` ${b}-container`,i.forEach(n=>{n.className+=` ${b}-movable-node`,n.setAttribute("data-id",ct()),/%$/.test(n.style.top)&&(n.style.top=p(e.width*parseFloat(n.style.top)/100)),/%$/.test(n.style.left)&&(n.style.left=p(e.height*parseFloat(n.style.left)/100)),/%$/.test(n.style.width)&&(n.style.width=p(e.width*parseFloat(n.style.width)/100)),/%$/.test(n.style.height)&&(n.style.height=p(e.height*parseFloat(n.style.height)/100))}),{container:c,nodes:i,svg:t,selected:null,setSelected(n){if(this.selected=n,!n){this.border.hidden();return}this.border.reRender(this)},gap:new lt(t),align:new dt(t),distance:new Et(t),border:new yt(t),resize:new xt(t,i),selector:new wt(t)}};class vt{constructor(i,t){$(this,"store");this.store=$t(i,t),st(this.store)}mount(){this.store.container.append(this.store.svg)}unmount(){this.store.svg.remove()}align(i){const{selected:t,container:e}=this.store;if(!t)return;const n=e.getBoundingClientRect(),h=m.from(t);switch(i){case"start":t.style.left=p(0);break;case"center":t.style.left=p(n.width/2-h.w/2);break;case"end":t.style.left=p(n.width-h.w);break}}}return vt});
